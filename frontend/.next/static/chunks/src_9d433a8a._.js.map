{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/oem/Music/eco-collect.ke/EcoCollectNew/Eco-Collect-New/frontend/src/lib/api.js"],"sourcesContent":["// lib/api.js\nimport axios from \"axios\";\n\nconst api = axios.create({\n  baseURL: \"http://localhost:5000\", \n  withCredentials: true, \n});\n\nexport default api;"],"names":[],"mappings":"AAAA,aAAa;;;;;AACb;;AAEA,MAAM,MAAM,mJAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,iBAAiB;AACnB;uCAEe","debugId":null}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///home/oem/Music/eco-collect.ke/EcoCollectNew/Eco-Collect-New/frontend/src/context/AuthContext.jsx"],"sourcesContent":["\"use client\";\n\nimport React, { createContext, useState, useEffect } from \"react\";\nimport api from \"../lib/api\"; \n\nexport const AuthContext = createContext();\n\nexport const AuthProvider = ({ children }) => {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  const fetchUser = async () => {\n    try {\n      const res = await api.get(\"/auth/me\", { withCredentials: true });\n      setUser(res.data.user);\n    } catch (err) {\n      setUser(null);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchUser();\n  }, []);\n\n  const login = async (email, password) => {\n    try {\n      const res = await api.post(\n        \"/auth/login\",\n        { email, password },\n        { withCredentials: true }\n      );\n      setUser(res.data.user);\n      return res.data.user;\n    } catch (err) {\n      throw new Error(err.response?.data?.error || \"Login failed\");\n    }\n  };\n\n  const register = async (data) => {\n    try {\n      const res = await api.post(\"/auth/register\", data, { withCredentials: true });\n      return res.data.user;\n    } catch (err) {\n      throw new Error(err.response?.data?.error || \"Registration failed\");\n    }\n  };\n\n  const logout = async () => {\n    try {\n      await api.post(\"/auth/logout\", {}, { withCredentials: true });\n      setUser(null);\n    } catch (err) {\n      console.error(\"Logout failed:\", err);\n    }\n  };\n\n  return (\n    <AuthContext.Provider value={{ user, loading, login, logout, register }}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\nimport { useContext } from \"react\";\n\nexport const useAuth = () => {\n  return useContext(AuthContext);\n};"],"names":[],"mappings":";;;;;;;;;AAEA;AACA;;;AAHA;;;AAKO,MAAM,4BAAc,IAAA,8KAAa;AAEjC,MAAM,eAAe;QAAC,EAAE,QAAQ,EAAE;;IACvC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;IACjC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,MAAM,YAAY;QAChB,IAAI;YACF,MAAM,MAAM,MAAM,+HAAG,CAAC,GAAG,CAAC,YAAY;gBAAE,iBAAiB;YAAK;YAC9D,QAAQ,IAAI,IAAI,CAAC,IAAI;QACvB,EAAE,OAAO,KAAK;YACZ,QAAQ;QACV,SAAU;YACR,WAAW;QACb;IACF;IAEA,IAAA,0KAAS;kCAAC;YACR;QACF;iCAAG,EAAE;IAEL,MAAM,QAAQ,OAAO,OAAO;QAC1B,IAAI;YACF,MAAM,MAAM,MAAM,+HAAG,CAAC,IAAI,CACxB,eACA;gBAAE;gBAAO;YAAS,GAClB;gBAAE,iBAAiB;YAAK;YAE1B,QAAQ,IAAI,IAAI,CAAC,IAAI;YACrB,OAAO,IAAI,IAAI,CAAC,IAAI;QACtB,EAAE,OAAO,KAAK;gBACI,oBAAA;YAAhB,MAAM,IAAI,MAAM,EAAA,gBAAA,IAAI,QAAQ,cAAZ,qCAAA,qBAAA,cAAc,IAAI,cAAlB,yCAAA,mBAAoB,KAAK,KAAI;QAC/C;IACF;IAEA,MAAM,WAAW,OAAO;QACtB,IAAI;YACF,MAAM,MAAM,MAAM,+HAAG,CAAC,IAAI,CAAC,kBAAkB,MAAM;gBAAE,iBAAiB;YAAK;YAC3E,OAAO,IAAI,IAAI,CAAC,IAAI;QACtB,EAAE,OAAO,KAAK;gBACI,oBAAA;YAAhB,MAAM,IAAI,MAAM,EAAA,gBAAA,IAAI,QAAQ,cAAZ,qCAAA,qBAAA,cAAc,IAAI,cAAlB,yCAAA,mBAAoB,KAAK,KAAI;QAC/C;IACF;IAEA,MAAM,SAAS;QACb,IAAI;YACF,MAAM,+HAAG,CAAC,IAAI,CAAC,gBAAgB,CAAC,GAAG;gBAAE,iBAAiB;YAAK;YAC3D,QAAQ;QACV,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,kBAAkB;QAClC;IACF;IAEA,qBACE,6LAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAS;YAAO;YAAQ;QAAS;kBACnE;;;;;;AAGP;GAxDa;KAAA;;AA2DN,MAAM,UAAU;;IACrB,OAAO,IAAA,2KAAU,EAAC;AACpB;IAFa","debugId":null}}]
}